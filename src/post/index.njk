---
layout: layouts/page.njk
pagination:
  data: collections.posts
  size: 10
  alias: pagedPosts
  reverse: true
permalink: /post/{% if pagination.pageNumber > 0 %}page/{{ pagination.pageNumber + 1 }}/{% endif %}index.html
eleventyComputed:
  title: "{% if pagination.pageNumber > 0 %}Posts · Page {{ pagination.pageNumber + 1 }}{% else %}Posts{% endif %}"
---

{% set totalPosts = collections.posts | length %}
{% set startIndex = pagination.pageNumber * pagination.size + 1 %}
{% set endIndex = startIndex + (pagedPosts.length or 0) - 1 %}

<div class="post-header-section">
  <div class="post-header-content">
    <h1>Blog Posts</h1>
    <div class="post-metadata">
      <div class="post-meta-row">
        <span class="post-meta-item">
          <svg class="meta-icon" viewBox="0 0 16 16" fill="currentColor"><path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/></svg>
          Showing {{ startIndex }}–{{ endIndex }} of {{ totalPosts }}
        </span>
      </div>
    </div>
  </div>
</div>

<div class="post-content-section">
  <div class="post-content-wrapper">
    {% if pagedPosts and pagedPosts.length %}
    <ul class="post-list post-list--stacked">
      {% for post in pagedPosts %}
      <li>
        <span class="post-meta">{{ post.date | readableDate }}</span>
        <a href="{{ post.url }}">{{ post.data.title or "Untitled post" }}</a>
      </li>
      {% endfor %}
    </ul>
    {% else %}
    <p>No posts available.</p>
    {% endif %}

    {% if pagination.href.previous or pagination.href.next %}
    <nav class="pager" aria-label="Pagination">
      {% if pagination.href.previous %}
      <a class="pager-link" href="{{ pagination.href.previous }}">← Newer posts</a>
      {% else %}
      <span class="pager-link pager-link--disabled">← Newer posts</span>
      {% endif %}

      <span class="pager-separator">·</span>
      <span class="pager-current">Page {{ pagination.pageNumber + 1 }} of {{ pagination.pages.length }}</span>

      <span class="pager-separator">·</span>

      {% if pagination.href.next %}
      <a class="pager-link" href="{{ pagination.href.next }}">Older posts →</a>
      {% else %}
      <span class="pager-link pager-link--disabled">Older posts →</span>
      {% endif %}
    </nav>
    {% endif %}
  </div>
</div>
